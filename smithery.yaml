# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - perplexityApiKey
    properties:
      perplexityApiKey:
        type: string
        description: The API key for the Perplexity API.
      perplexityModel:
        type: string
        description: "Optional: The model for the Perplexity API."
        default: sonar-pro
      modelAsk:
        type: string
        description: "Optional: Override model for ask_perplexity tool"
      modelChat:
        type: string
        description: "Optional: Override model for chat_perplexity tool"
      dbPath:
        type: string
        description: "Optional: Custom path for SQLite chat history database"
  
  # Standard command configuration
  command: "perplexity-search-openclaw"
  args: []
  env:
    PERPLEXITY_API_KEY: "{{perplexityApiKey}}"
    PERPLEXITY_MODEL: "{{perplexityModel}}"
    PERPLEXITY_MODEL_ASK: "{{modelAsk}}"
    PERPLEXITY_MODEL_CHAT: "{{modelChat}}"
    DB_PATH: "{{dbPath}}"

build:
  dockerfile: Dockerfile
  dockerBuildPath: .
